(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){},40:function(e,t,a){e.exports=a(65)},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),l=a.n(o),c=(a(34),a(20)),i=a(4),s=a(5),u=a(7),m=a(6),d=a(11),p=a(8),h=a(27),b=a.n(h),v=a(2),f="GET_NOTES",g="GET_USER",E="USER_STATUS",y="NOTES_STATUS",O=a(23);O.initializeApp({apiKey:"AIzaSyAY-piEoQbpCD-0FKg6sGTtn3HwjziBmcg",authDomain:"crud-23bfd.firebaseapp.com",databaseURL:"https://crud-23bfd.firebaseio.com",projectId:"crud-23bfd",storageBucket:"",messagingSenderId:"208745345398",appId:"1:208745345398:web:dfe089844a6228d2"});var j=O.database().ref("/notes"),N=O.auth(),C=new O.auth.GoogleAuthProvider;function k(){return function(e){e({type:y,payload:!0}),j.on("value",function(t){e({type:f,payload:t.val()}),e({type:y,payload:!1})},function(){e({type:y,payload:-1})})}}var S=function(e){return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",null,e.children))};function w(){return function(e){e({type:E,payload:!0}),N.onAuthStateChanged(function(t){e({type:g,payload:t}),e({type:E,payload:!1})})}}var L=a(9),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={title:"",body:"",notes:{}},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.renderNotes=a.renderNotes.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(c.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={title:this.state.title,body:this.state.body,uid:this.props.user.uid};this.props.saveNotes(t),this.setState({title:"",body:""})}},{key:"renderNotes",value:function(){var e=this;return b.a.map(this.props.notes,function(t,a){return r.a.createElement(S,{key:a},r.a.createElement(L.b,{to:"/".concat(a)},r.a.createElement("h2",null,t.title)),r.a.createElement("p",null,t.body),t.uid===e.props.user.uid&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-danger btn-xs",onClick:function(){return e.props.deleteNote(a)}},"Delete"),r.a.createElement("button",{className:"btn btn-info btn-xs pull-right"},r.a.createElement(L.b,{to:"/".concat(a,"/edit")},"Update"))))})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-2 text-center"},r.a.createElement("img",{src:this.props.user.photoURL,alt:"here",height:"100px",className:"img img-responsive circle",style:{padding:"20px"}}),r.a.createElement("h4",{className:"username"},"Welcome back,",r.a.createElement("b",null,this.props.user.displayName))),r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:this.handleChange,value:this.state.title,type:"text",name:"title",className:"form-control no-border",placeholder:"Title...",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{onChange:this.handleChange,value:this.state.body,type:"text",name:"body",className:"form-control no-border",placeholder:"Body...",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary col-sm-12"},"Save"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),this.renderNotes())))}}]),t}(n.Component);var B=Object(v.b)(function(e,t){return{notes:e.notes,user:e.user}},{getNotes:k,saveNotes:function(e){return function(t){return j.push(e)}},deleteNote:function(e){return function(t){return j.child(e).remove()}},getUser:w})(x);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=a(17),U=a(38),D=a(39),W=a(32),A=Object(T.combineReducers)({notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.payload;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.payload;default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(W.a)({},e,{notes:t.payload});case E:return Object(W.a)({},e,{user:t.payload});default:return e}}}),G=a(18),R=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){null!==this.props.user&&this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){null!==e.user&&e.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12 jumbotron",style:{marginTop:"-20px"}},r.a.createElement("h1",null,"BLOG | ",(new Date).getFullYear()),r.a.createElement("h2",null,r.a.createElement("i",null,"Login with your ",r.a.createElement("b",null,"social network account")," to start writing!")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("button",{className:"btn btn-danger col-sm-6",onClick:this.props.googleLogin},"Login with Google"),r.a.createElement("button",{className:"btn btn-info col-sm-6"},"Login with Twitter"))))}}]),t}(n.Component);var I=Object(v.b)(function(e,t){return{user:e.user}},{googleLogin:function(){return function(e){return N.signInWithPopup(C)}}})(R),q=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:"navbar navbar-default"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("button",{type:"button",className:"navbar-toggle","data-toggle":"collapse","data-target":"#myNavbar"},r.a.createElement("span",{className:"icon-bar"}),r.a.createElement("span",{className:"icon-bar"}),r.a.createElement("span",{className:"icon-bar"})),r.a.createElement(L.b,{className:"navbar-brand",to:"/"},"BLOG | 2019")),r.a.createElement("div",{className:"collapse navbar-collapse",id:"myNavbar"},r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},null===this.props.user?r.a.createElement("li",null,r.a.createElement(L.b,{to:"/Login"},"Login")):r.a.createElement("li",null,r.a.createElement(L.b,{to:"/logout",onClick:function(){return e.props.logout()}},"Logout"))))))}}]),t}(n.Component);var P=Object(v.b)(function(e,t){return{user:e.user}},{getUser:w,logout:function(){return function(e){return N.signOut()}}})(q),_=(a(64),function(){return r.a.createElement("div",{className:"flex-center position-ref full-height"},r.a.createElement("div",{className:"title m-b-md"},"Loading..."))}),z=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.userLoading,a=e.notesLoading;void 0===t&&this.props.getUser(),void 0===a&&this.props.getNotes()}},{key:"componentWillReceiveProps",value:function(e){-1===e.notesLoading&&null!==e.user&&this.props.getNotes()}},{key:"render",value:function(){var e=this.props,t=e.userLoading,a=e.notesLoading,n=e.children;return!t&&!a||null===this.props.user?r.a.createElement("div",null,n):r.a.createElement(_,null)}}]),t}(n.Component);var M=Object(G.g)(Object(v.b)(function(e){return{user:e.user,userLoading:e.loading.user,notesLoading:e.loading.notes}},{getUser:w,getNotes:k})(z)),F=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.userLoading,a=e.user;!1!==t||a||this.props.history.push("./Login")}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.userLoading,n=e.children;return!1===a&&t?r.a.createElement("div",null,n):null}}]),t}(n.Component);var J=Object(G.g)(Object(v.b)(function(e){return{user:e.user,userLoading:e.loading.user}})(F)),K=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={commentBody:""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState({commentBody:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={commentBody:this.state.commentBody,uid:this.props.uid};this.props.saveComment(this.props.id,t),this.setState({commentBody:""})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{onChange:this.handleChange,value:this.state.commentBody,type:"text",name:"commentBody",className:"form-control no-border",placeholder:"Write comment ...",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-success"},"Add comment"))))}}]),t}(n.Component);var Y=Object(v.b)(function(e,t){return{uid:e.user.uid}},{saveComment:function(e,t){return function(a){j.child(e).child("comments").push(t)}}})(K),H=function(e){var t=e.children;return r.a.createElement("div",null," \u2192 ",t)},Q=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"renderComments",value:function(){var e=this.props.note;return b.a.map(e.comments,function(e,t){return r.a.createElement(H,{key:t,id:t},e.commentBody)})}},{key:"render",value:function(){var e=this.props.note;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 col-sm-offset-3"},r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.body),r.a.createElement(Y,{id:this.props.match.params.id}),this.renderComments(),r.a.createElement(L.b,{to:"/"}," \xab Back"))))}}]),t}(n.Component);var $=Object(v.b)(function(e,t){return{note:e.notes[t.match.params.id],uid:e.user.uid}})(Q),V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={title:a.props.note.title,body:a.props.note.body},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(c.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={title:this.state.title,body:this.state.body,uid:this.props.uid};this.props.editNote(this.props.match.params.id,t),this.setState({title:"",body:""}),this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6 col-sm-offset-3"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:this.handleChange,value:this.state.title,type:"text",name:"title",className:"form-control no-border",placeholder:"Title...",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{onChange:this.handleChange,value:this.state.body,type:"text",name:"body",className:"form-control no-border",placeholder:"Body...",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary col-sm-12"},"Update"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))))}}]),t}(n.Component);var X=Object(v.b)(function(e,t){return{note:e.notes[t.match.params.id],uid:e.user.uid}},{editNote:function(e,t){return function(a){return j.child(e).update(t)}}})(V),Z=Object(T.createStore)(A,Object(D.composeWithDevTools)(Object(T.applyMiddleware)(U.a)));l.a.render(r.a.createElement(v.a,{store:Z},r.a.createElement(L.a,null,r.a.createElement(M,null,r.a.createElement("div",null,r.a.createElement(G.d,null,r.a.createElement(G.b,{path:"/Login",component:I,exact:!0}),r.a.createElement(G.a,{from:"/logout",to:"/"}),r.a.createElement(J,null,r.a.createElement(P,null),r.a.createElement(G.b,{path:"/:id/edit",component:X,exact:!0}),r.a.createElement(G.b,{path:"/:id",component:$,exact:!0}),r.a.createElement(G.b,{path:"/",component:B,exact:!0}))))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.dc353efd.chunk.js.map